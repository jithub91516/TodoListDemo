<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header">
    <title>Hello</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<div class="container">
    <div th:replace="fragments/bodyHeader :: bodyHeader" />
    <div class="jumbotron">
        <h1>Todo List</h1>
        <p>
            <a class="btn btn-lg btn-secondary" href="/members">회원 목록</a>
        </p>
        <p class="lead">Todo 기능</p>
        <p>
            <a class="btn btn-lg btn-dark" href="/items/new">Todo 등록</a>
            <a class="btn btn-lg btn-dark" href="/items">Todo 목록</a>
        </p>

        <form action="/members/delete" method="post" id="deleteForm">
            <input type="hidden" name="id" id="hiddenId">
            <button type="submit">회원 탈퇴</button>
        </form>
    </div>
    <div th:replace="fragments/footer :: footer" />
</div>

<script>
    document.getElementById('deleteForm').addEventListener('submit', function(event) {
        if(!confirm("삭제하시겠습니까?")) {
            event.preventDefault();
            return;
        }
        var loginId = localStorage.getItem('loginId');
        document.getElementById('hiddenId').value = loginId;
    });
</script>

</body>
</html>
